<ion-view view-title="Task details">
    <ion-content>
        <div class="page-content">
            <div style="text-align:center;">
                <button class="button icon-right ion-checkmark-round pink-button eighty-width" ng-click="completeTask()">
                    Complete Task
                </button>
                <br />
                <br />
            </div>
            <div class="todo-list">
                <div class="todo-list-item todo-list-divider">
                    <b>Task</b>
                </div>
                <div class="todo-list-item">
                    <input type="text" ng-model="model.task.taskName" placeholder="Task description">
                </div>
                <div class="todo-list-item todo-list-divider">
                    <b>Sub-tasks</b>
                </div>
                <div class="todo-list-item" ng-repeat="subTask in model.task.subTasks">
                    <input type="text" ng-model="subTask.name" placeholder="Sub-task description">
                </div>
                <div class="todo-list-item todo-list-divider">
                    <b>When?</b>
                </div>
                <div style="padding-top:5px; padding-bottom:8px;">
                    <div class="dropdown">
                        <a class="dropdown-toggle" id="dropdown2" role="button" data-toggle="dropdown" data-target="#" href="#">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-calendar" style="font-size:20px"></i></span>
                                <input type="text" class="form-control" data-ng-model="model.task.completionDate">
                            </div>
                        </a>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                            <datetimepicker data-ng-model="model.task.completionDate" data-before-render="timepickerBeforeRender($view, $dates, $leftDate, $upDate, $rightDate)" data-datetimepicker-config="{ dropdownSelector: '#dropdown2' }" />
                        </ul>
                    </div>
                </div>
                <div class="todo-list-item todo-list-divider">
                    <b>Select list for task</b>
                </div>
                <div class="todo-list-item">
                    <select ng-options="list.id as list.listName for list in model.lists" ng-model="model.task.listId" ng-init=""></select>
                </div>
            </div>
            <div style="text-align: center;padding:20px 0px 10px 0px;">
                <div style="font-size:36px;">
                    {{model.task.productivityPoints}}
                    <img src="img/pp.png" style="width:32px;height:32px;" />
                </div>
                <br />
            </div>
            <div style="text-align:center;">
                <button class="button icon-right ion-ios-download pink-button eighty-width" ng-click="saveChanges()">
                    Save Changes to Task
                </button>
                <br />
                <br />
                <button class="button icon-right ion-ios-loop-strong pink-button eighty-width" ng-click="repeatTaskOneDayLater()">
                    Repeat the following day
                </button>
                <br />
                <br />
                <button class="button icon-right ion-trash-a pink-button eighty-width" ng-click="deleteTask()">
                    Delete Task
                </button>
            </div>
        </div>
    </ion-content>
</ion-view>
